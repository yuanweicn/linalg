<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>线性代数</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- 引用 CSS -->
  <link rel="stylesheet" href="css/index_style.css">

  <!-- MathJax -->
  <script src="config/mathjax-core.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js" defer></script>
</head>
<body>
  <!-- 半透明 header -->
  <header>
    <h1>线性代数</h1>
    <p>理论及应用</p>
  </header>

  <main>
    <!-- 动态学期显示 -->
    <section class="semester" id="current-semester">
      <h2 id="semester-title">学期</h2>

      <div class="se-content">
        <h3>课程内容</h3>
        <ul id="semester-content"></ul>
      </div>

      <div class="divider"></div>

      <div class="se-materials">
        <h3>课程资料</h3>
        <ul id="semester-materials"></ul>
      </div>
    </section>
  </main>

  <footer>
    © <span id="year"></span> Linear Algebra Course
  </footer>

  <!-- JavaScript -->
  <script>
    // 自动年份
    document.getElementById("year").textContent = new Date().getFullYear();

    // -------------------------------
    // 控制学期
    // -------------------------------
    const isFallSemester = false; // true = 秋季, false = 春季

    // -------------------------------
    // 学期数据，包括课程和教材（支持超链接）
    // -------------------------------
    const semesters = {
      fall: {
        name: "秋季学期",
        courses: [
          "矩阵的基本运算",
          "线性空间",
          "线性映射",
          "多重线性映射"
        ],
        materials: [
          { text: "讲义(PDF)", href: "aut/linear_algebra_I.pdf" },
          "作业"
        ]
      },
      spring: {
        name: "春季学期",
        courses: [
          "矩阵的基本运算",
          "线性空间",
          "线性映射",
          "多重线性映射"
        ],
        materials: [
          { text: "讲义(PDF)", href: "spr/linear_algebra_II.pdf" },
          "作业"
        ]
      }
    };

    const currentSemester = isFallSemester ? semesters.fall : semesters.spring;

    // -------------------------------
    // 更新学期标题
    // -------------------------------
    const title = document.getElementById("semester-title");
    title.textContent = currentSemester.name;

    // -------------------------------
    // 更新课程列表
    // -------------------------------
    const content = document.getElementById("semester-content");
    currentSemester.courses.forEach(item => {
      const li = document.createElement("li");
      li.textContent = item;
      content.appendChild(li);
    });

    // -------------------------------
    // 更新教材列表，支持超链接
    // -------------------------------
    const materials = document.getElementById("semester-materials");
    currentSemester.materials.forEach(item => {
      const li = document.createElement("li");
      if (typeof item === "string") {
        li.textContent = item;
      } else if (typeof item === "object" && item.href) {
        const a = document.createElement("a");
        a.href = item.href;
        a.target = "_blank";
        a.textContent = item.text;
        li.appendChild(a);
      }
      materials.appendChild(li);
    });
  </script>
</body>
</html>
